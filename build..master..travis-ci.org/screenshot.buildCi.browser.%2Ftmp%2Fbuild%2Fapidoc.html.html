<html data-scrape="{
    &quot;hrefDict&quot;: {
        &quot;https://github.com/kaizhu256/node-itunes-search-lite&quot;: &quot;itunes-search-lite (v2017.9.31)&quot;,
        &quot;https://github.com/kaizhu256/node-utility2&quot;: &quot;utility2&quot;
    },
    &quot;href&quot;: &quot;file:///home/travis/build/kaizhu256/node-itunes-search-lite/tmp/build/apidoc.html&quot;,
    &quot;url&quot;: &quot;file:///home/travis/build/kaizhu256/node-itunes-search-lite/tmp/build/apidoc.html&quot;,
    &quot;bodyTextContent&quot;: &quot;description and source-codeajax = function (options, onError) {\n/*\n * this function will send an ajax-request with error-handling and timeout\n * example usage:\n    local.ajax({\n        method: 'GET',\n        url: '/index.html'\n    }, function (error, xhr) {\n        console.log(xhr.responseText);\n        console.log(xhr.statusCode);\n    });\n */\n    var tmp, xhr;\n    // init standalone handling-behavior\n    local.nop = local.nop || function () {\n        return;\n    };\n    local.ajaxForwardProxyUrlTest = local.ajaxForwardProxyUrlTest || local.nop;\n    local.ajaxProgressCounter = local.ajaxProgressCounter || 0;\n    local.ajaxProgressUpdate = local.ajaxProgressUpdate || local.nop;\n    local.bufferToNodeBuffer = local.bufferToNodeBuffer || local.nop;\n    local.bufferToString = local.bufferToString || local.nop;\n    local.errorMessagePrepend = local.errorMessagePrepend || local.nop;\n    local.onErrorWithStack = local.onErrorWithStack || function (arg) {\n        return arg;\n    };\n    local.serverLocalUrlTest = local.serverLocalUrlTest || local.nop;\n    local.streamListCleanup = local.streamListCleanup || local.nop;\n    local.timeoutDefault = local.timeoutDefault || 30000;\n    local.tryCatchOnError = local.tryCatchOnError || local.nop;\n    // init onError\n    onError = local.onErrorWithStack(onError);\n    // init xhr\n    xhr = local.modeJs === 'node' || local.serverLocalUrlTest(options.url)\n        ? new local._http.XMLHttpRequest()\n        : new window.XMLHttpRequest();\n    // debug xhr\n    local._debugXhr = xhr;\n    // init options\n    Object.keys(options).forEach(function (key) {\n        if (options[key] !== undefined) {\n            xhr[key] = options[key];\n        }\n    });\n    // init headers\n    xhr.headers = {};\n    Object.keys(options.headers || {}).forEach(function (key) {\n        xhr.headers[key.toLowerCase()] = options.headers[key];\n    });\n    // init method\n    xhr.method = xhr.method || 'GET';\n    // init timeStart\n    xhr.timeStart = Date.now();\n    // init timeout\n    xhr.timeout = xhr.timeout || local.timeoutDefault;\n    // init timerTimeout\n    xhr.timerTimeout = setTimeout(function () {\n        xhr.error = xhr.error || new Error('onTimeout - timeout-error - ' +\n            xhr.timeout + ' ms - ' + 'ajax ' + xhr.method + ' ' + xhr.url);\n        xhr.abort();\n        // cleanup requestStream and responseStream\n        local.streamListCleanup([xhr.requestStream, xhr.responseStream]);\n    }, xhr.timeout | 0);\n    // init event handling\n    xhr.onEvent = function (event) {\n        // init statusCode\n        xhr.statusCode = xhr.status;\n        switch (event.type) {\n        case 'abort':\n        case 'error':\n        case 'load':\n            // do not run more than once\n            if (xhr.isDone) {\n                return;\n            }\n            xhr.isDone = true;\n            // debug ajaxResponse\n            if (xhr.modeDebug) {\n                console.error({\n                    type: 'ajaxResponse',\n                    time: new Date(xhr.timeStart).toISOString(),\n                    method: xhr.method,\n                    url: xhr.url,\n                    statusCode: xhr.statusCode,\n                    duration: Date.now() - xhr.timeStart,\n                    // extra\n                    headers: xhr.headers,\n                    data: xhr.data &amp;&amp; xhr.data.slice &amp;&amp;\n                        local.bufferToString(xhr.data.slice(0, 256)),\n                    responseText: local.tryCatchOnError(function () {\n                        return xhr.responseText.slice(0, 256);\n                    }, local.nop)\n                });\n            }\n            // cleanup timerTimeout\n            clearTimeout(xhr.timerTimeout);\n            // cleanup requestStream and responseStream\n            setTimeout(function () {\n                local.streamListCleanup([xhr.requestStream, xhr.responseStream]);\n            });\n            // decrement ajaxProgressCounter\n            local.ajaxProgressCounter -= 1;\n            // handle abort or error event\n            if (!xhr.error &amp;&amp;\n                    (event.type === 'abort' ||\n                    event.type === 'error' | ...\n    example usage...\n// run shared js-env code - function-before\n/* istanbul ignore next */\n(function () {\n    local.ajax = function (options, onError) {\n    /*\n     * this function will send an ajax-request with error-handling and timeout\n     * example usage:\n        local.ajax({\n            method: 'GET',\n            url: '/index.html'\n        }, function (error, xhr) {\n            console.log(xhr.responseText);\n            console.log(xhr.statusCode);\n        });\n     */\n...\n\n            description and source-codeajaxProgressUpdate = function () {\n/*\n * this function will update ajaxProgress\n */\n    var ajaxProgressDiv1;\n    ajaxProgressDiv1 = local.modeJs === 'browser' &amp;&amp;\n        document.querySelector('#ajaxProgressDiv1');\n    if (!ajaxProgressDiv1) {\n        return;\n    }\n    // init ajaxProgressDiv1StyleBackground\n    local.ajaxProgressDiv1StyleBackground = local.ajaxProgressDiv1StyleBackground ||\n        ajaxProgressDiv1.style.background;\n    // show ajaxProgress\n    ajaxProgressDiv1.style.background = local.ajaxProgressDiv1StyleBackground;\n    // increment ajaxProgress\n    if (local.ajaxProgressCounter > 0) {\n        // this algorithm will indefinitely increment the ajaxProgressBar\n        // with successively smaller increments without ever reaching 100%\n        local.ajaxProgressState += 1;\n        ajaxProgressDiv1.style.width = Math.max(\n            100 - 75 * Math.exp(-0.125 * local.ajaxProgressState),\n            Number(ajaxProgressDiv1.style.width.slice(0, -1)) || 0\n        ) + '%';\n    } else {\n        // finish ajaxProgress\n        ajaxProgressDiv1.style.width = '100%';\n    }\n    // cleanup timerTimeout\n    clearTimeout(local.timerTimeoutAjaxProgressHide);\n    // hide ajaxProgress\n    local.timerTimeoutAjaxProgressHide = setTimeout(function () {\n        ajaxProgressDiv1.style.background = 'transparent';\n        local.ajaxProgressCounter = 0;\n        local.ajaxProgressState = 0;\n        // reset ajaxProgress\n        setTimeout(function () {\n            // coverage-hack - ignore else-statement\n            local.nop(!local.ajaxProgressState &amp;&amp; (function () {\n                ajaxProgressDiv1.style.width = '0%';\n            }()));\n        }, 500);\n    }, local.ajaxProgressCounter > 0\n        ? local.timeoutDefault\n        : 1500);\n}\n    example usage...\n                }, local.nop);\n                local.errorMessagePrepend(xhr.error, tmp);\n            }\n        }\n        onError(xhr.error, xhr);\n        break;\n    }\n    local.ajaxProgressUpdate();\n};\n// increment ajaxProgressCounter\nlocal.ajaxProgressCounter += 1;\nxhr.addEventListener('abort', xhr.onEvent);\nxhr.addEventListener('error', xhr.onEvent);\nxhr.addEventListener('load', xhr.onEvent);\nxhr.addEventListener('loadstart', local.ajaxProgressUpdate);\n...\n\n            description and source-codeassert = function (passed, message) {\n/*\n * this function will throw the error message if passed is falsey\n */\n    var error;\n    if (passed) {\n        return;\n    }\n    error = message &amp;&amp; message.message\n        // if message is an error-object, then leave it as is\n        ? message\n        : new Error(typeof message === 'string'\n            // if message is a string, then leave it as is\n            ? message\n            // else JSON.stringify message\n            : JSON.stringify(message));\n    throw error;\n}\n    example usage...\n\nlocal.tryCatchOnError = function (fnc, onError) {\n/*\n * this function will try to run the fnc in a try-catch block,\n * else call onError with the errorCaught\n */\n    // validate onError\n    local.assert(typeof onError === 'function', typeof onError);\n    try {\n        // reset errorCaught\n        local._debugTryCatchErrorCaught = null;\n        return fnc();\n    } catch (errorCaught) {\n        // debug errorCaught\n        local._debugTryCatchErrorCaught = errorCaught;\n...\n\n            description and source-codenop = function () {\n/*\n * this function will do nothing\n */\n    return;\n}\n    example usage...\n    local.timerTimeoutAjaxProgressHide = setTimeout(function () {\n        ajaxProgressDiv1.style.background = 'transparent';\n        local.ajaxProgressCounter = 0;\n        local.ajaxProgressState = 0;\n        // reset ajaxProgress\n        setTimeout(function () {\n            // coverage-hack - ignore else-statement\n            local.nop(!local.ajaxProgressState &amp;&amp; (function () {\n                ajaxProgressDiv1.style.width = '0%';\n            }()));\n        }, 500);\n    }, local.ajaxProgressCounter > 0\n        ? local.timeoutDefault\n        : 1500);\n};\n...\n\n            description and source-codeobjectSetDefault = function (arg, defaults, depth) {\n/*\n * this function will recursively set defaults for undefined-items in the arg\n */\n    arg = arg || {};\n    defaults = defaults || {};\n    Object.keys(defaults).forEach(function (key) {\n        var arg2, defaults2;\n        arg2 = arg[key];\n        // handle misbehaving getter\n        try {\n            defaults2 = defaults[key];\n        } catch (ignore) {\n        }\n        if (defaults2 === undefined) {\n            return;\n        }\n        // init arg[key] to default value defaults[key]\n        if (!arg2) {\n            arg[key] = defaults2;\n            return;\n        }\n        // if arg2 and defaults2 are both non-null and non-array objects,\n        // then recurse with arg2 and defaults2\n        if (depth > 1 &amp;&amp;\n                // arg2 is a non-null and non-array object\n                arg2 &amp;&amp;\n                typeof arg2 === 'object' &amp;&amp;\n                !Array.isArray(arg2) &amp;&amp;\n                // defaults2 is a non-null and non-array object\n                defaults2 &amp;&amp;\n                typeof defaults2 === 'object' &amp;&amp;\n                !Array.isArray(defaults2)) {\n            // recurse\n            local.objectSetDefault(arg2, defaults2, depth - 1);\n        }\n    });\n    return arg;\n}\n    example usage...\n                typeof arg2 === 'object' &amp;&amp;\n                !Array.isArray(arg2) &amp;&amp;\n                // defaults2 is a non-null and non-array object\n                defaults2 &amp;&amp;\n                typeof defaults2 === 'object' &amp;&amp;\n                !Array.isArray(defaults2)) {\n            // recurse\n            local.objectSetDefault(arg2, defaults2, depth - 1);\n        }\n    });\n    return arg;\n};\n\n            description and source-codeonErrorWithStack = function (onError) {\n/*\n * this function will create a new callback that will call onError,\n * and append the current stack to any error\n */\n    var stack;\n    stack = new Error().stack.replace((/(.*?)\\n.*?$/m), '$1');\n    return function (error, data, meta) {\n        if (error &amp;&amp;\n                error !== local.errorDefault &amp;&amp;\n                String(error.stack).indexOf(stack.split('\\n')[2]) < 0) {\n            // append the current stack to error.stack\n            error.stack += '\\n' + stack;\n        }\n        onError(error, data, meta);\n    };\n}\n    example usage...\n    return arg;\n};\nlocal.serverLocalUrlTest = local.serverLocalUrlTest || local.nop;\nlocal.streamListCleanup = local.streamListCleanup || local.nop;\nlocal.timeoutDefault = local.timeoutDefault || 30000;\nlocal.tryCatchOnError = local.tryCatchOnError || local.nop;\n// init onError\nonError = local.onErrorWithStack(onError);\n// init xhr\nxhr = local.modeJs === 'node' || local.serverLocalUrlTest(options.url)\n    ? new local._http.XMLHttpRequest()\n    : new window.XMLHttpRequest();\n// debug xhr\nlocal._debugXhr = xhr;\n// init options\n...\n\n            description and source-codeonNext = function (options, onError) {\n/*\n * this function will wrap onError inside the recursive function options.onNext,\n * and append the current stack to any error\n */\n    options.onNext = local.onErrorWithStack(function (error, data, meta) {\n        try {\n            options.modeNext = error &amp;&amp; !options.modeErrorIgnore\n                ? Infinity\n                : options.modeNext + 1;\n            onError(error, data, meta);\n        } catch (errorCaught) {\n            // throw errorCaught to break infinite recursion-loop\n            if (options.errorCaught) {\n                throw options.errorCaught;\n            }\n            options.errorCaught = errorCaught;\n            options.onNext(errorCaught, data, meta);\n        }\n    });\n    return options;\n}\n    example usage...\n            onError(error, data, meta);\n        } catch (errorCaught) {\n            // throw errorCaught to break infinite recursion-loop\n            if (options.errorCaught) {\n                throw options.errorCaught;\n            }\n            options.errorCaught = errorCaught;\n            options.onNext(errorCaught, data, meta);\n        }\n    });\n    return options;\n};\n\n                        description and source-codetemplateRender = function (template, dict) {\n/*\n * this function will render the template with the given dict\n */\n    var argList, getValue, match, renderPartial, rgx, value;\n    dict = dict || {};\n    getValue = function (key) {\n        argList = key.split(' ');\n        value = dict;\n        // iteratively lookup nested values in the dict\n        argList[0].split('.').forEach(function (key) {\n            value = value &amp;&amp; value[key];\n        });\n        return value;\n    };\n    renderPartial = function (match0, helper, key, partial) {\n        switch (helper) {\n        case 'each':\n            value = getValue(key);\n            return Array.isArray(value)\n                ? value.map(function (dict) {\n                    // recurse with partial\n                    return local.templateRender(partial, dict);\n                }).join('')\n                : '';\n        case 'if':\n            partial = partial.split('{{#unless ' + key + '}}');\n            partial = getValue(key)\n                ? partial[0]\n                // handle 'unless' case\n                : partial.slice(1).join('{{#unless ' + key + '}}');\n            // recurse with partial\n            return local.templateRender(partial, dict);\n        case 'unless':\n            return getValue(key)\n                ? ''\n                // recurse with partial\n                : local.templateRender(partial, dict);\n        default:\n            // recurse with partial\n            return match0[0] + local.templateRender(match0.slice(1), dict);\n        }\n    };\n    // render partials\n    rgx = (/\\{\\{#(\\w+) ([^}]+?)\\}\\}/g);\n    template = template || '';\n    for (match = rgx.exec(template); match; match = rgx.exec(template)) {\n        rgx.lastIndex += 1 - match[0].length;\n        template = template.replace(\n            new RegExp('\\\\{\\\\{#(' + match[1] + ') (' + match[2] +\n                ')\\\\}\\\\}([\\\\S\\\\s]*?)\\\\{\\\\{/' + match[1] + ' ' + match[2] +\n                '\\\\}\\\\}'),\n            renderPartial\n        );\n    }\n    // search for keys in the template\n    return template.replace((/\\{\\{[^}]+?\\}\\}/g), function (match0) {\n        getValue(match0.slice(2, -2));\n        if (value === undefined) {\n            return match0;\n        }\n        argList.slice(1).forEach(function (arg) {\n            switch (arg) {\n            case 'alphanumeric':\n                value = value.replace((/\\W/g), '_');\n                break;\n            case 'decodeURIComponent':\n                value = decodeURIComponent(value);\n                break;\n            case 'encodeURIComponent':\n                value = encodeURIComponent(value);\n                break;\n            case 'htmlSafe':\n                value = value.replace((/[\&quot;&amp;'<>]/g), function (match0) {\n                    return '&amp;#x' + match0.charCodeAt(0).toString(16) + ';';\n                });\n                break;\n            case 'jsonStringify':\n                value = JSON.stringify(value);\n                break;\n            case 'jsonStringify4':\n                value = JSON.stringify(value, null, 4);\n                break;\n            case 'markdownCodeSafe':\n                value = value.replace((/`/g), '\\'');\n                break;\n            default:\n                value = value[arg]();\n                break;\n            }\n        });\n        return String(value);\n    });\n}\n    example usage...\n            renderPartial = function (match0, helper, key, partial) {\nswitch (helper) {\ncase 'each':\n    value = getValue(key);\n    return Array.isArray(value)\n        ? value.map(function (dict) {\n            // recurse with partial\n            return local.templateRender(partial, dict);\n        }).join('')\n        : '';\ncase 'if':\n    partial = partial.split('{{#unless ' + key + '}}');\n    partial = getValue(key)\n        ? partial[0]\n        // handle 'unless' case\n...\n\n            description and source-codetryCatchOnError = function (fnc, onError) {\n/*\n * this function will try to run the fnc in a try-catch block,\n * else call onError with the errorCaught\n */\n    // validate onError\n    local.assert(typeof onError === 'function', typeof onError);\n    try {\n        // reset errorCaught\n        local._debugTryCatchErrorCaught = null;\n        return fnc();\n    } catch (errorCaught) {\n        // debug errorCaught\n        local._debugTryCatchErrorCaught = errorCaught;\n        return onError(errorCaught);\n    }\n}\n    example usage...\n        url: xhr.url,\n        statusCode: xhr.statusCode,\n        duration: Date.now() - xhr.timeStart,\n        // extra\n        headers: xhr.headers,\n        data: xhr.data &amp;&amp; xhr.data.slice &amp;&amp;\n            local.bufferToString(xhr.data.slice(0, 256)),\n        responseText: local.tryCatchOnError(function () {\n            return xhr.responseText.slice(0, 256);\n        }, local.nop)\n    });\n}\n// cleanup timerTimeout\nclearTimeout(xhr.timerTimeout);\n// cleanup requestStream and responseStream\n...\n\n            description and source-codeuiAnimateScrollTo = function (element) {\n/*\n * this function will scrollTo the element\n */\n    var dy, fps, scrollTopOld, stop, timerInterval, timeout, tmp;\n    fps = 50;\n    timeout = 1000;\n    stop = function () {\n        clearInterval(timerInterval);\n    };\n    timerInterval = setInterval(function () {\n        dy = 2000 * (element.offsetTop - document.body.scrollTop) / (fps * timeout);\n        tmp = (document.body.scrollTop - scrollTopOld) || dy;\n        // stop if very little to scroll\n        if (Math.abs(dy * fps * timeout / 2000) <= 20 ||\n                // stop if user interrupts scrolling\n                Math.sign(tmp) !== Math.sign(dy) ||\n                Math.abs(tmp) > 2 * Math.abs(dy)) {\n            stop();\n            return;\n        }\n        scrollTopOld = document.body.scrollTop;\n        document.body.scrollTop += dy;\n    }, 1000 / fps);\n    setTimeout(stop, timeout);\n}\n    example usage...\n    });\n    if (ii + 1 === list.length) {\n        element.parentElement.appendChild(local.cardExpandedList[0]);\n    } else {\n        local.cardSelected.parentElement\n            .insertBefore(local.cardExpandedList[0], element);\n    }\n    local.uiAnimateScrollTo(local.cardSelected);\n    return true;\n});\nlocal.cardExpandedList[0].querySelector('.cardExpandedArrow').style.marginLeft =\n    (local.cardSelected.offsetLeft +\n    0.5 * local.cardSelected.offsetWidth - 15) + 'px';\nlocal.uiAnimateSlideDown(local.cardExpandedList[0], local.nop);\nreturn options;\n...\n\n            description and source-codeuiAnimateSlideDown = function (element, callback) {\n/*\n * this function will slideDown the dom-element\n */\n    element.style.maxHeight = '0';\n    setTimeout(function () {\n        element.style.borderBottom = '';\n        element.style.borderTop = '';\n        element.style.display = '';\n        element.style.marginBottom = '';\n        element.style.marginTop = '';\n        element.style.maxHeight = 1.5 * local.global.innerHeight + 'px';\n        element.style.paddingBottom = '';\n        element.style.paddingTop = '';\n        setTimeout(function () {\n            element.style.maxHeight = '65535px';\n            callback();\n        }, 500);\n    }, 50);\n}\n    example usage...\n        }\n        local.uiAnimateScrollTo(local.cardSelected);\n        return true;\n    });\n    local.cardExpandedList[0].querySelector('.cardExpandedArrow').style.marginLeft =\n        (local.cardSelected.offsetLeft +\n        0.5 * local.cardSelected.offsetWidth - 15) + 'px';\n    local.uiAnimateSlideDown(local.cardExpandedList[0], local.nop);\n    return options;\n};\n\n            description and source-codeuiAnimateSlideUp = function (element, callback) {\n/*\n * this function will slideUp the dom-element\n */\n    element.style.borderBottom = '0';\n    element.style.borderTop = '0';\n    element.style.marginBottom = '0';\n    element.style.marginTop = '0';\n    element.style.maxHeight = '0';\n    element.style.paddingBottom = '0';\n    element.style.paddingTop = '0';\n    element.style.display = '';\n    setTimeout(function () {\n        callback();\n    }, 500);\n}\n    example usage...\n        .querySelector('.cardExpandedContent')\n        .innerHTML = local.cardExpandedList[1]\n            .querySelector('.cardExpandedContent')\n            .innerHTML;\n    return true;\n}\nlocal.cardExpandedList.reverse();\nlocal.uiAnimateSlideUp(local.cardExpandedList[1], function () {\n    local.cardExpandedList[1].parentNode\n        .removeChild(local.cardExpandedList[1]);\n});\nif (ii + 1 === list.length) {\n    element.parentElement.appendChild(local.cardExpandedList[0]);\n} else {\n    local.cardSelected.parentElement\n...\n\n            description and source-codeuiEventDelegate = function (event) {\n    Object.keys(local.uiEventListenerDict).sort().some(function (key) {\n        if (!(event.currentTarget.matches(key) || event.target.matches(key))) {\n            return;\n        }\n        switch (event.target.tagName) {\n        case 'A':\n        case 'BUTTON':\n        case 'FORM':\n            event.preventDefault();\n            break;\n        }\n        event.stopPropagation();\n        local.uiEventListenerDict[key](event);\n        return true;\n    });\n}\n    example usagen/a\n\n            description and source-codeuiEventInit = function (element) {\n/*\n * this function will init event-handling for the dom-element\n */\n    ['Change', 'Click', 'Submit'].forEach(function (eventType) {\n        Array.from(\n            element.querySelectorAll('.eventDelegate' + eventType)\n        ).forEach(function (element) {\n            element.addEventListener(eventType.toLowerCase(), local.uiEventDelegate);\n        });\n    });\n}\n    example usage...\n    '#movie': '#movie',\n    '#music': '#music',\n    '#musicVideo': '#musicVideo',\n    '#podcast': '#podcast'\n};\nlocal.timeoutDefault = 30000;\n// init event-handling\nlocal.uiEventInit(document.body);\n// init state\nlocal.tryCatchOnError(function () {\n    localStorage.utility2_itunes_search_test = JSON.stringify(Object.keys(local));\n    delete localStorage.utility2_itunes_search_test;\n}, function () {\n    localStorage.clear();\n});\n...&quot;
}"><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/kaizhu256/node-itunes-search-lite">itunes-search-lite (v2017.9.31)</a>
</h1>
<h4>this zero-dependency package will provide an api for itunes-search, with a working demo</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.itunes-search-lite">module itunes-search-lite</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.itunes-search-lite.ajax">
            function <span class="apidocSignatureSpan">itunes-search-lite.</span>ajax
            <span class="apidocSignatureSpan">(options, onError)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.itunes-search-lite.ajaxProgressUpdate">
            function <span class="apidocSignatureSpan">itunes-search-lite.</span>ajaxProgressUpdate
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.itunes-search-lite.assert">
            function <span class="apidocSignatureSpan">itunes-search-lite.</span>assert
            <span class="apidocSignatureSpan">(passed, message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.itunes-search-lite.nop">
            function <span class="apidocSignatureSpan">itunes-search-lite.</span>nop
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.itunes-search-lite.objectSetDefault">
            function <span class="apidocSignatureSpan">itunes-search-lite.</span>objectSetDefault
            <span class="apidocSignatureSpan">(arg, defaults, depth)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.itunes-search-lite.onErrorWithStack">
            function <span class="apidocSignatureSpan">itunes-search-lite.</span>onErrorWithStack
            <span class="apidocSignatureSpan">(onError)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.itunes-search-lite.onNext">
            function <span class="apidocSignatureSpan">itunes-search-lite.</span>onNext
            <span class="apidocSignatureSpan">(options, onError)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.itunes-search-lite.serverLog">
            function <span class="apidocSignatureSpan">itunes-search-lite.</span>serverLog
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.itunes-search-lite.templateRender">
            function <span class="apidocSignatureSpan">itunes-search-lite.</span>templateRender
            <span class="apidocSignatureSpan">(template, dict)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.itunes-search-lite.tryCatchOnError">
            function <span class="apidocSignatureSpan">itunes-search-lite.</span>tryCatchOnError
            <span class="apidocSignatureSpan">(fnc, onError)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.itunes-search-lite.uiAnimateScrollTo">
            function <span class="apidocSignatureSpan">itunes-search-lite.</span>uiAnimateScrollTo
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.itunes-search-lite.uiAnimateSlideDown">
            function <span class="apidocSignatureSpan">itunes-search-lite.</span>uiAnimateSlideDown
            <span class="apidocSignatureSpan">(element, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.itunes-search-lite.uiAnimateSlideUp">
            function <span class="apidocSignatureSpan">itunes-search-lite.</span>uiAnimateSlideUp
            <span class="apidocSignatureSpan">(element, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.itunes-search-lite.uiEventDelegate">
            function <span class="apidocSignatureSpan">itunes-search-lite.</span>uiEventDelegate
            <span class="apidocSignatureSpan">(event)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.itunes-search-lite.uiEventInit">
            function <span class="apidocSignatureSpan">itunes-search-lite.</span>uiEventInit
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">itunes-search-lite.</span>itunes_search</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">itunes-search-lite.</span>local</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">itunes-search-lite.</span>module</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">itunes-search-lite.</span>testRunBeforeDone</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">itunes-search-lite.</span>testRunBeforeTimer</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">itunes-search-lite.</span>uiEventListenerDict</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">itunes-search-lite.</span>__dirname</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.itunes-search-lite.uiEventListenerDict">module itunes-search-lite.uiEventListenerDict</a><ol>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.itunes-search-lite" id="apidoc.module.itunes-search-lite">module itunes-search-lite</a></h1>


    <h2>
        <a href="#apidoc.element.itunes-search-lite.ajax" id="apidoc.element.itunes-search-lite.ajax">
        function <span class="apidocSignatureSpan">itunes-search-lite.</span>ajax
        <span class="apidocSignatureSpan">(options, onError)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ajax = function (options, onError) {
<span class="apidocCodeCommentSpan">/*
 * this function will send an ajax-request with error-handling and timeout
 * example usage:
    local.ajax({
        method: 'GET',
        url: '/index.html'
    }, function (error, xhr) {
        console.log(xhr.responseText);
        console.log(xhr.statusCode);
    });
 */
</span>    var tmp, xhr;
    // init standalone handling-behavior
    local.nop = local.nop || function () {
        return;
    };
    local.ajaxForwardProxyUrlTest = local.ajaxForwardProxyUrlTest || local.nop;
    local.ajaxProgressCounter = local.ajaxProgressCounter || 0;
    local.ajaxProgressUpdate = local.ajaxProgressUpdate || local.nop;
    local.bufferToNodeBuffer = local.bufferToNodeBuffer || local.nop;
    local.bufferToString = local.bufferToString || local.nop;
    local.errorMessagePrepend = local.errorMessagePrepend || local.nop;
    local.onErrorWithStack = local.onErrorWithStack || function (arg) {
        return arg;
    };
    local.serverLocalUrlTest = local.serverLocalUrlTest || local.nop;
    local.streamListCleanup = local.streamListCleanup || local.nop;
    local.timeoutDefault = local.timeoutDefault || 30000;
    local.tryCatchOnError = local.tryCatchOnError || local.nop;
    // init onError
    onError = local.onErrorWithStack(onError);
    // init xhr
    xhr = local.modeJs === 'node' || local.serverLocalUrlTest(options.url)
        ? new local._http.XMLHttpRequest()
        : new window.XMLHttpRequest();
    // debug xhr
    local._debugXhr = xhr;
    // init options
    Object.keys(options).forEach(function (key) {
        if (options[key] !== undefined) {
            xhr[key] = options[key];
        }
    });
    // init headers
    xhr.headers = {};
    Object.keys(options.headers || {}).forEach(function (key) {
        xhr.headers[key.toLowerCase()] = options.headers[key];
    });
    // init method
    xhr.method = xhr.method || 'GET';
    // init timeStart
    xhr.timeStart = Date.now();
    // init timeout
    xhr.timeout = xhr.timeout || local.timeoutDefault;
    // init timerTimeout
    xhr.timerTimeout = setTimeout(function () {
        xhr.error = xhr.error || new Error('onTimeout - timeout-error - ' +
            xhr.timeout + ' ms - ' + 'ajax ' + xhr.method + ' ' + xhr.url);
        xhr.abort();
        // cleanup requestStream and responseStream
        local.streamListCleanup([xhr.requestStream, xhr.responseStream]);
    }, xhr.timeout | 0);
    // init event handling
    xhr.onEvent = function (event) {
        // init statusCode
        xhr.statusCode = xhr.status;
        switch (event.type) {
        case 'abort':
        case 'error':
        case 'load':
            // do not run more than once
            if (xhr.isDone) {
                return;
            }
            xhr.isDone = true;
            // debug ajaxResponse
            if (xhr.modeDebug) {
                console.error({
                    type: 'ajaxResponse',
                    time: new Date(xhr.timeStart).toISOString(),
                    method: xhr.method,
                    url: xhr.url,
                    statusCode: xhr.statusCode,
                    duration: Date.now() - xhr.timeStart,
                    // extra
                    headers: xhr.headers,
                    data: xhr.data &amp;&amp; xhr.data.slice &amp;&amp;
                        local.bufferToString(xhr.data.slice(0, 256)),
                    responseText: local.tryCatchOnError(function () {
                        return xhr.responseText.slice(0, 256);
                    }, local.nop)
                });
            }
            // cleanup timerTimeout
            clearTimeout(xhr.timerTimeout);
            // cleanup requestStream and responseStream
            setTimeout(function () {
                local.streamListCleanup([xhr.requestStream, xhr.responseStream]);
            });
            // decrement ajaxProgressCounter
            local.ajaxProgressCounter -= 1;
            // handle abort or error event
            if (!xhr.error &amp;&amp;
                    (event.type === 'abort' ||
                    event.type === 'error' | ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// run shared js-env code - function-before
/* istanbul ignore next */
(function () {
    local.ajax = function (options, onError) {
    /*
     * this function will send an ajax-request with error-handling and timeout
     * example usage:
        local.<span class="apidocCodeKeywordSpan">ajax</span>({
            method: 'GET',
            url: '/index.html'
        }, function (error, xhr) {
            console.log(xhr.responseText);
            console.log(xhr.statusCode);
        });
     */
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.itunes-search-lite.ajaxProgressUpdate" id="apidoc.element.itunes-search-lite.ajaxProgressUpdate">
        function <span class="apidocSignatureSpan">itunes-search-lite.</span>ajaxProgressUpdate
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ajaxProgressUpdate = function () {
<span class="apidocCodeCommentSpan">/*
 * this function will update ajaxProgress
 */
</span>    var ajaxProgressDiv1;
    ajaxProgressDiv1 = local.modeJs === 'browser' &amp;&amp;
        document.querySelector('#ajaxProgressDiv1');
    if (!ajaxProgressDiv1) {
        return;
    }
    // init ajaxProgressDiv1StyleBackground
    local.ajaxProgressDiv1StyleBackground = local.ajaxProgressDiv1StyleBackground ||
        ajaxProgressDiv1.style.background;
    // show ajaxProgress
    ajaxProgressDiv1.style.background = local.ajaxProgressDiv1StyleBackground;
    // increment ajaxProgress
    if (local.ajaxProgressCounter &gt; 0) {
        // this algorithm will indefinitely increment the ajaxProgressBar
        // with successively smaller increments without ever reaching 100%
        local.ajaxProgressState += 1;
        ajaxProgressDiv1.style.width = Math.max(
            100 - 75 * Math.exp(-0.125 * local.ajaxProgressState),
            Number(ajaxProgressDiv1.style.width.slice(0, -1)) || 0
        ) + '%';
    } else {
        // finish ajaxProgress
        ajaxProgressDiv1.style.width = '100%';
    }
    // cleanup timerTimeout
    clearTimeout(local.timerTimeoutAjaxProgressHide);
    // hide ajaxProgress
    local.timerTimeoutAjaxProgressHide = setTimeout(function () {
        ajaxProgressDiv1.style.background = 'transparent';
        local.ajaxProgressCounter = 0;
        local.ajaxProgressState = 0;
        // reset ajaxProgress
        setTimeout(function () {
            // coverage-hack - ignore else-statement
            local.nop(!local.ajaxProgressState &amp;&amp; (function () {
                ajaxProgressDiv1.style.width = '0%';
            }()));
        }, 500);
    }, local.ajaxProgressCounter &gt; 0
        ? local.timeoutDefault
        : 1500);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
                }, local.nop);
                local.errorMessagePrepend(xhr.error, tmp);
            }
        }
        onError(xhr.error, xhr);
        break;
    }
    local.<span class="apidocCodeKeywordSpan">ajaxProgressUpdate</span>();
};
// increment ajaxProgressCounter
local.ajaxProgressCounter += 1;
xhr.addEventListener('abort', xhr.onEvent);
xhr.addEventListener('error', xhr.onEvent);
xhr.addEventListener('load', xhr.onEvent);
xhr.addEventListener('loadstart', local.ajaxProgressUpdate);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.itunes-search-lite.assert" id="apidoc.element.itunes-search-lite.assert">
        function <span class="apidocSignatureSpan">itunes-search-lite.</span>assert
        <span class="apidocSignatureSpan">(passed, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">assert = function (passed, message) {
<span class="apidocCodeCommentSpan">/*
 * this function will throw the error message if passed is falsey
 */
</span>    var error;
    if (passed) {
        return;
    }
    error = message &amp;&amp; message.message
        // if message is an error-object, then leave it as is
        ? message
        : new Error(typeof message === 'string'
            // if message is a string, then leave it as is
            ? message
            // else JSON.stringify message
            : JSON.stringify(message));
    throw error;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

local.tryCatchOnError = function (fnc, onError) {
/*
 * this function will try to run the fnc in a try-catch block,
 * else call onError with the errorCaught
 */
    // validate onError
    local.<span class="apidocCodeKeywordSpan">assert</span>(typeof onError === 'function', typeof onError);
    try {
        // reset errorCaught
        local._debugTryCatchErrorCaught = null;
        return fnc();
    } catch (errorCaught) {
        // debug errorCaught
        local._debugTryCatchErrorCaught = errorCaught;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.itunes-search-lite.nop" id="apidoc.element.itunes-search-lite.nop">
        function <span class="apidocSignatureSpan">itunes-search-lite.</span>nop
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">nop = function () {
<span class="apidocCodeCommentSpan">/*
 * this function will do nothing
 */
</span>    return;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    local.timerTimeoutAjaxProgressHide = setTimeout(function () {
        ajaxProgressDiv1.style.background = 'transparent';
        local.ajaxProgressCounter = 0;
        local.ajaxProgressState = 0;
        // reset ajaxProgress
        setTimeout(function () {
            // coverage-hack - ignore else-statement
            local.<span class="apidocCodeKeywordSpan">nop</span>(!local.ajaxProgressState &amp;&amp; (function () {
                ajaxProgressDiv1.style.width = '0%';
            }()));
        }, 500);
    }, local.ajaxProgressCounter &gt; 0
        ? local.timeoutDefault
        : 1500);
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.itunes-search-lite.objectSetDefault" id="apidoc.element.itunes-search-lite.objectSetDefault">
        function <span class="apidocSignatureSpan">itunes-search-lite.</span>objectSetDefault
        <span class="apidocSignatureSpan">(arg, defaults, depth)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">objectSetDefault = function (arg, defaults, depth) {
<span class="apidocCodeCommentSpan">/*
 * this function will recursively set defaults for undefined-items in the arg
 */
</span>    arg = arg || {};
    defaults = defaults || {};
    Object.keys(defaults).forEach(function (key) {
        var arg2, defaults2;
        arg2 = arg[key];
        // handle misbehaving getter
        try {
            defaults2 = defaults[key];
        } catch (ignore) {
        }
        if (defaults2 === undefined) {
            return;
        }
        // init arg[key] to default value defaults[key]
        if (!arg2) {
            arg[key] = defaults2;
            return;
        }
        // if arg2 and defaults2 are both non-null and non-array objects,
        // then recurse with arg2 and defaults2
        if (depth &gt; 1 &amp;&amp;
                // arg2 is a non-null and non-array object
                arg2 &amp;&amp;
                typeof arg2 === 'object' &amp;&amp;
                !Array.isArray(arg2) &amp;&amp;
                // defaults2 is a non-null and non-array object
                defaults2 &amp;&amp;
                typeof defaults2 === 'object' &amp;&amp;
                !Array.isArray(defaults2)) {
            // recurse
            local.objectSetDefault(arg2, defaults2, depth - 1);
        }
    });
    return arg;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
                typeof arg2 === 'object' &amp;&amp;
                !Array.isArray(arg2) &amp;&amp;
                // defaults2 is a non-null and non-array object
                defaults2 &amp;&amp;
                typeof defaults2 === 'object' &amp;&amp;
                !Array.isArray(defaults2)) {
            // recurse
            local.<span class="apidocCodeKeywordSpan">objectSetDefault</span>(arg2, defaults2, depth - 1);
        }
    });
    return arg;
};

local.onErrorWithStack = function (onError) {
/*
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.itunes-search-lite.onErrorWithStack" id="apidoc.element.itunes-search-lite.onErrorWithStack">
        function <span class="apidocSignatureSpan">itunes-search-lite.</span>onErrorWithStack
        <span class="apidocSignatureSpan">(onError)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onErrorWithStack = function (onError) {
<span class="apidocCodeCommentSpan">/*
 * this function will create a new callback that will call onError,
 * and append the current stack to any error
 */
</span>    var stack;
    stack = new Error().stack.replace((/(.*?)\n.*?$/m), '$1');
    return function (error, data, meta) {
        if (error &amp;&amp;
                error !== local.errorDefault &amp;&amp;
                String(error.stack).indexOf(stack.split('\n')[2]) &lt; 0) {
            // append the current stack to error.stack
            error.stack += '\n' + stack;
        }
        onError(error, data, meta);
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return arg;
};
local.serverLocalUrlTest = local.serverLocalUrlTest || local.nop;
local.streamListCleanup = local.streamListCleanup || local.nop;
local.timeoutDefault = local.timeoutDefault || 30000;
local.tryCatchOnError = local.tryCatchOnError || local.nop;
// init onError
onError = local.<span class="apidocCodeKeywordSpan">onErrorWithStack</span>(onError);
// init xhr
xhr = local.modeJs === 'node' || local.serverLocalUrlTest(options.url)
    ? new local._http.XMLHttpRequest()
    : new window.XMLHttpRequest();
// debug xhr
local._debugXhr = xhr;
// init options
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.itunes-search-lite.onNext" id="apidoc.element.itunes-search-lite.onNext">
        function <span class="apidocSignatureSpan">itunes-search-lite.</span>onNext
        <span class="apidocSignatureSpan">(options, onError)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onNext = function (options, onError) {
<span class="apidocCodeCommentSpan">/*
 * this function will wrap onError inside the recursive function options.onNext,
 * and append the current stack to any error
 */
</span>    options.onNext = local.onErrorWithStack(function (error, data, meta) {
        try {
            options.modeNext = error &amp;&amp; !options.modeErrorIgnore
                ? Infinity
                : options.modeNext + 1;
            onError(error, data, meta);
        } catch (errorCaught) {
            // throw errorCaught to break infinite recursion-loop
            if (options.errorCaught) {
                throw options.errorCaught;
            }
            options.errorCaught = errorCaught;
            options.onNext(errorCaught, data, meta);
        }
    });
    return options;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            onError(error, data, meta);
        } catch (errorCaught) {
            // throw errorCaught to break infinite recursion-loop
            if (options.errorCaught) {
                throw options.errorCaught;
            }
            options.errorCaught = errorCaught;
            options.<span class="apidocCodeKeywordSpan">onNext</span>(errorCaught, data, meta);
        }
    });
    return options;
};

local.templateRender = function (template, dict) {
/*
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.itunes-search-lite.serverLog" id="apidoc.element.itunes-search-lite.serverLog">
        function <span class="apidocSignatureSpan">itunes-search-lite.</span>serverLog
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">serverLog = function (options) {
    console.error('serverLog - ' + JSON.stringify(options));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.itunes-search-lite.templateRender" id="apidoc.element.itunes-search-lite.templateRender">
        function <span class="apidocSignatureSpan">itunes-search-lite.</span>templateRender
        <span class="apidocSignatureSpan">(template, dict)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">templateRender = function (template, dict) {
<span class="apidocCodeCommentSpan">/*
 * this function will render the template with the given dict
 */
</span>    var argList, getValue, match, renderPartial, rgx, value;
    dict = dict || {};
    getValue = function (key) {
        argList = key.split(' ');
        value = dict;
        // iteratively lookup nested values in the dict
        argList[0].split('.').forEach(function (key) {
            value = value &amp;&amp; value[key];
        });
        return value;
    };
    renderPartial = function (match0, helper, key, partial) {
        switch (helper) {
        case 'each':
            value = getValue(key);
            return Array.isArray(value)
                ? value.map(function (dict) {
                    // recurse with partial
                    return local.templateRender(partial, dict);
                }).join('')
                : '';
        case 'if':
            partial = partial.split('{{#unless ' + key + '}}');
            partial = getValue(key)
                ? partial[0]
                // handle 'unless' case
                : partial.slice(1).join('{{#unless ' + key + '}}');
            // recurse with partial
            return local.templateRender(partial, dict);
        case 'unless':
            return getValue(key)
                ? ''
                // recurse with partial
                : local.templateRender(partial, dict);
        default:
            // recurse with partial
            return match0[0] + local.templateRender(match0.slice(1), dict);
        }
    };
    // render partials
    rgx = (/\{\{#(\w+) ([^}]+?)\}\}/g);
    template = template || '';
    for (match = rgx.exec(template); match; match = rgx.exec(template)) {
        rgx.lastIndex += 1 - match[0].length;
        template = template.replace(
            new RegExp('\\{\\{#(' + match[1] + ') (' + match[2] +
                ')\\}\\}([\\S\\s]*?)\\{\\{/' + match[1] + ' ' + match[2] +
                '\\}\\}'),
            renderPartial
        );
    }
    // search for keys in the template
    return template.replace((/\{\{[^}]+?\}\}/g), function (match0) {
        getValue(match0.slice(2, -2));
        if (value === undefined) {
            return match0;
        }
        argList.slice(1).forEach(function (arg) {
            switch (arg) {
            case 'alphanumeric':
                value = value.replace((/\W/g), '_');
                break;
            case 'decodeURIComponent':
                value = decodeURIComponent(value);
                break;
            case 'encodeURIComponent':
                value = encodeURIComponent(value);
                break;
            case 'htmlSafe':
                value = value.replace((/["&amp;'&lt;&gt;]/g), function (match0) {
                    return '&amp;#x' + match0.charCodeAt(0).toString(16) + ';';
                });
                break;
            case 'jsonStringify':
                value = JSON.stringify(value);
                break;
            case 'jsonStringify4':
                value = JSON.stringify(value, null, 4);
                break;
            case 'markdownCodeSafe':
                value = value.replace((/`/g), '\'');
                break;
            default:
                value = value[arg]();
                break;
            }
        });
        return String(value);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            renderPartial = function (match0, helper, key, partial) {
switch (helper) {
case 'each':
    value = getValue(key);
    return Array.isArray(value)
        ? value.map(function (dict) {
            // recurse with partial
            return local.<span class="apidocCodeKeywordSpan">templateRender</span>(partial, dict);
        }).join('')
        : '';
case 'if':
    partial = partial.split('{{#unless ' + key + '}}');
    partial = getValue(key)
        ? partial[0]
        // handle 'unless' case
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.itunes-search-lite.tryCatchOnError" id="apidoc.element.itunes-search-lite.tryCatchOnError">
        function <span class="apidocSignatureSpan">itunes-search-lite.</span>tryCatchOnError
        <span class="apidocSignatureSpan">(fnc, onError)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">tryCatchOnError = function (fnc, onError) {
<span class="apidocCodeCommentSpan">/*
 * this function will try to run the fnc in a try-catch block,
 * else call onError with the errorCaught
 */
</span>    // validate onError
    local.assert(typeof onError === 'function', typeof onError);
    try {
        // reset errorCaught
        local._debugTryCatchErrorCaught = null;
        return fnc();
    } catch (errorCaught) {
        // debug errorCaught
        local._debugTryCatchErrorCaught = errorCaught;
        return onError(errorCaught);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        url: xhr.url,
        statusCode: xhr.statusCode,
        duration: Date.now() - xhr.timeStart,
        // extra
        headers: xhr.headers,
        data: xhr.data &amp;&amp; xhr.data.slice &amp;&amp;
            local.bufferToString(xhr.data.slice(0, 256)),
        responseText: local.<span class="apidocCodeKeywordSpan">tryCatchOnError</span>(function () {
            return xhr.responseText.slice(0, 256);
        }, local.nop)
    });
}
// cleanup timerTimeout
clearTimeout(xhr.timerTimeout);
// cleanup requestStream and responseStream
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.itunes-search-lite.uiAnimateScrollTo" id="apidoc.element.itunes-search-lite.uiAnimateScrollTo">
        function <span class="apidocSignatureSpan">itunes-search-lite.</span>uiAnimateScrollTo
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">uiAnimateScrollTo = function (element) {
<span class="apidocCodeCommentSpan">/*
 * this function will scrollTo the element
 */
</span>    var dy, fps, scrollTopOld, stop, timerInterval, timeout, tmp;
    fps = 50;
    timeout = 1000;
    stop = function () {
        clearInterval(timerInterval);
    };
    timerInterval = setInterval(function () {
        dy = 2000 * (element.offsetTop - document.body.scrollTop) / (fps * timeout);
        tmp = (document.body.scrollTop - scrollTopOld) || dy;
        // stop if very little to scroll
        if (Math.abs(dy * fps * timeout / 2000) &lt;= 20 ||
                // stop if user interrupts scrolling
                Math.sign(tmp) !== Math.sign(dy) ||
                Math.abs(tmp) &gt; 2 * Math.abs(dy)) {
            stop();
            return;
        }
        scrollTopOld = document.body.scrollTop;
        document.body.scrollTop += dy;
    }, 1000 / fps);
    setTimeout(stop, timeout);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    });
    if (ii + 1 === list.length) {
        element.parentElement.appendChild(local.cardExpandedList[0]);
    } else {
        local.cardSelected.parentElement
            .insertBefore(local.cardExpandedList[0], element);
    }
    local.<span class="apidocCodeKeywordSpan">uiAnimateScrollTo</span>(local.cardSelected);
    return true;
});
local.cardExpandedList[0].querySelector('.cardExpandedArrow').style.marginLeft =
    (local.cardSelected.offsetLeft +
    0.5 * local.cardSelected.offsetWidth - 15) + 'px';
local.uiAnimateSlideDown(local.cardExpandedList[0], local.nop);
return options;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.itunes-search-lite.uiAnimateSlideDown" id="apidoc.element.itunes-search-lite.uiAnimateSlideDown">
        function <span class="apidocSignatureSpan">itunes-search-lite.</span>uiAnimateSlideDown
        <span class="apidocSignatureSpan">(element, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">uiAnimateSlideDown = function (element, callback) {
<span class="apidocCodeCommentSpan">/*
 * this function will slideDown the dom-element
 */
</span>    element.style.maxHeight = '0';
    setTimeout(function () {
        element.style.borderBottom = '';
        element.style.borderTop = '';
        element.style.display = '';
        element.style.marginBottom = '';
        element.style.marginTop = '';
        element.style.maxHeight = 1.5 * local.global.innerHeight + 'px';
        element.style.paddingBottom = '';
        element.style.paddingTop = '';
        setTimeout(function () {
            element.style.maxHeight = '65535px';
            callback();
        }, 500);
    }, 50);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        }
        local.uiAnimateScrollTo(local.cardSelected);
        return true;
    });
    local.cardExpandedList[0].querySelector('.cardExpandedArrow').style.marginLeft =
        (local.cardSelected.offsetLeft +
        0.5 * local.cardSelected.offsetWidth - 15) + 'px';
    local.<span class="apidocCodeKeywordSpan">uiAnimateSlideDown</span>(local.cardExpandedList[0], local.nop);
    return options;
};

local.uiEventListenerDict['.onEventUiReload'] = function (options) {
/*
 * this function will reload the ui
 */
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.itunes-search-lite.uiAnimateSlideUp" id="apidoc.element.itunes-search-lite.uiAnimateSlideUp">
        function <span class="apidocSignatureSpan">itunes-search-lite.</span>uiAnimateSlideUp
        <span class="apidocSignatureSpan">(element, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">uiAnimateSlideUp = function (element, callback) {
<span class="apidocCodeCommentSpan">/*
 * this function will slideUp the dom-element
 */
</span>    element.style.borderBottom = '0';
    element.style.borderTop = '0';
    element.style.marginBottom = '0';
    element.style.marginTop = '0';
    element.style.maxHeight = '0';
    element.style.paddingBottom = '0';
    element.style.paddingTop = '0';
    element.style.display = '';
    setTimeout(function () {
        callback();
    }, 500);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        .querySelector('.cardExpandedContent')
        .innerHTML = local.cardExpandedList[1]
            .querySelector('.cardExpandedContent')
            .innerHTML;
    return true;
}
local.cardExpandedList.reverse();
local.<span class="apidocCodeKeywordSpan">uiAnimateSlideUp</span>(local.cardExpandedList[1], function () {
    local.cardExpandedList[1].parentNode
        .removeChild(local.cardExpandedList[1]);
});
if (ii + 1 === list.length) {
    element.parentElement.appendChild(local.cardExpandedList[0]);
} else {
    local.cardSelected.parentElement
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.itunes-search-lite.uiEventDelegate" id="apidoc.element.itunes-search-lite.uiEventDelegate">
        function <span class="apidocSignatureSpan">itunes-search-lite.</span>uiEventDelegate
        <span class="apidocSignatureSpan">(event)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">uiEventDelegate = function (event) {
    Object.keys(local.uiEventListenerDict).sort().some(function (key) {
        if (!(event.currentTarget.matches(key) || event.target.matches(key))) {
            return;
        }
        switch (event.target.tagName) {
        case 'A':
        case 'BUTTON':
        case 'FORM':
            event.preventDefault();
            break;
        }
        event.stopPropagation();
        local.uiEventListenerDict[key](event);
        return true;
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.itunes-search-lite.uiEventInit" id="apidoc.element.itunes-search-lite.uiEventInit">
        function <span class="apidocSignatureSpan">itunes-search-lite.</span>uiEventInit
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">uiEventInit = function (element) {
<span class="apidocCodeCommentSpan">/*
 * this function will init event-handling for the dom-element
 */
</span>    ['Change', 'Click', 'Submit'].forEach(function (eventType) {
        Array.from(
            element.querySelectorAll('.eventDelegate' + eventType)
        ).forEach(function (element) {
            element.addEventListener(eventType.toLowerCase(), local.uiEventDelegate);
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    '#movie': '#movie',
    '#music': '#music',
    '#musicVideo': '#musicVideo',
    '#podcast': '#podcast'
};
local.timeoutDefault = 30000;
// init event-handling
local.<span class="apidocCodeKeywordSpan">uiEventInit</span>(document.body);
// init state
local.tryCatchOnError(function () {
    localStorage.utility2_itunes_search_test = JSON.stringify(Object.keys(local));
    delete localStorage.utility2_itunes_search_test;
}, function () {
    localStorage.clear();
});
...</pre></li>
    </ul>
















</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.itunes-search-lite.uiEventListenerDict" id="apidoc.module.itunes-search-lite.uiEventListenerDict">module itunes-search-lite.uiEventListenerDict</a></h1>

</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>